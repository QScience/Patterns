# YAML Econophysics Forum, QScience

info:
  title: Set up the Econophysics Forum
  description: Enables the theme, adds blocks, adds content types with fields, sets variables, enables modules, adds path aliases and menu items.
  author: QScience
  category: QScience
  version: 2.0
  core: 7.x
  author_website: http://qlectives.eu/

modules:
  - pathauto

actions:

# ---------- Modules ----------

  - create:
      tag: modules
      - blog
      - taxonomy
      - comment
#      - aggregator
#      - votingapi
#      - fivestar
      - path
      - pathauto
      - date

  - delete:
      tag: modules
      - overlay

# ---------- Theme ----------

  - create:
      tag: theme
      value: garland
      default: true

# ---------- Blocks ----------

  - create:
     tag: block
     id: block
     status: 1
     weight: -5
     theme: garland
     title: Links
     info: Links to other sites
     body:
         value: >
           <ul><li><a href="http://www.futurict.eu/">FuturICT</a></li><li><a href="http://cordis.europa.eu/fp7/ict/">ICT - Information and Communication Technologies</a></li><li><a href="http://cordis.europa.eu/fet-proactive/">FET-Proactive</a></li></ul>

         format: full_html
     region: sidebar_second # Redundant, but needed, for now.
     regions:
         garland: sidebar_second

  - modify:
      tag: block
      module: system
      delta: powered-by
      status: 0
      weight: 0
      theme: garland
      region: -1
      regions:
          seven: -1
          bartik: -1
          garland: -1

  - modify:
      tag: block
      module: node
      delta: recent
      status: 1
      weight: -5
      theme: garland
      region: sidebar_second
      regions:
          seven: -1
          bartik: -1
          garland: sidebar_second

# ---------- Menu and Path ----------

  - create:
      tag: url_alias
      source: node
      alias: home

  - create:
      tag: url_alias
      source: node
      alias: editorial

  - create:
      tag: url_alias
      source: node
      alias: news

  - create:
      tag: url_alias
      source: node
      alias: events

  - create:
      tag: url_alias
      source: node
      alias: bookreviews

  - create:
      tag: url_alias
      source: node
      alias: papers

  - create:
      tag: menu_item
      menu_name: main-menu
      link_path: home
      link_title: Home
      weight: -5

  - create:
      tag: menu_item
      menu_name: main-menu
      link_path: editorial
      link_title: Editorial
      weight: -4

  - create:
      tag: menu_item
      menu_name: main-menu
      link_path: news
      link_title: News
      weight: -3

  - create:
      tag: menu_item
      menu_name: main-menu
      link_path: events
      link_title: Events
      weight: -2

  - create:
      tag: menu_item
      menu_name: main-menu
      link_path: bookreviews
      link_title: Book reviews
      weight: -1

  - create:
      tag: menu_item
      menu_name: main-menu
      link_path: papers
      link_title: Papers
      weight: 0


  - create:
      tag: menu_item
      menu_name: main-menu
      link_path: blog
      link_title: Blogs
      weight: 1

# ---------- Variables ----------

  - create:
      tag: variables
      - variable
        name: date_default_timezone
        value: Europe/Berlin
      - variable
        name: site_frontpage
        value: node
      - variable
        name: user_register
        value: 2
      - variable
        name: site_name
        value: EconoPhysics Forum

# ---------- Content Types and Fields ----------

  - create:
     tag: content_type
     name: Paper
     type: paper # machine readable name
     description: A content type for scientific papers.
     title_label: Paper Title
     node_preview: 1
     help: Scientific papers.
     node_options:
      - status
      - promote

  - create:
      tag: instance
      entity: node
      bundle: paper
      name: author
      label: Authors
      weight: 2

  - create:
      tag: instance
      entity: node
      bundle: paper
      name: publish_date
      label: Publication date
      type: datetime
      widget: date_select
      weight: 3

  - create:
     tag: content_type
     name: Event
     type: event # machine readable name
     description: An event.
     title_label: Title
     node_preview: 1
     help: An event.
     node_options:
      - status
      - promote

  - create:
      tag: instance
      entity: node
      bundle: event
      name: start_date
      label: Starts
      type: datetime
      widget: date_select
      weight: 3

  - create:
      tag: instance
      entity: node
      bundle: event
      name: end_date
      label: Ends
      type: datetime
      widget: date_select
      weight: 4

# ---------- Roles and permissions ----------

  - create:
      tag: role
      name: editor

  - create:
      tag: permission
      rid: 4
      value: administer comments, administer nodes, create event content, edit any event content, create paper content, edit any paper content


# ---------- Users ----------

# - create:
# tag: user
# name: Editor
# mail: editor@qlectives.eu
# password: ediToRpaSS1
# timezone: Europe/Zurich
# roles: 2
# status: 1





